<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Evaluation | NEON Ecological Forecasting Challenge</title>
  <meta name="description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Evaluation | NEON Ecological Forecasting Challenge" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://seankross.com/bookdown-start/" />
  
  <meta property="og:description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  <meta name="github-repo" content="eco4cast/neon4cast-docs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Evaluation | NEON Ecological Forecasting Challenge" />
  
  <meta name="twitter:description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  

<meta name="author" content="Hosted by the Ecological Forecasting Initative Research Coordination Network and supported by National Science Foundation (DEB-1926388)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="submission-metadata-generation.html"/>
<link rel="next" href="met_inputs.html"/>
<script src="libs/header-attrs-2.14/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NEON Ecological Forecasting Challenge</a></li>

<li class="divider"></li>
<li><a href="index.html#introduction" id="toc-introduction">Introduction<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#theme-aquatic-ecosystems" id="toc-theme-aquatic-ecosystems"><span class="toc-section-number">1</span> Theme: Aquatic Ecosystems<span></span></a>
<ul>
<li><a href="theme-aquatic-ecosystems.html#overview" id="toc-overview"><span class="toc-section-number">1.1</span> Overview<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#challenge" id="toc-challenge"><span class="toc-section-number">1.2</span> Challenge<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#data-targets" id="toc-data-targets"><span class="toc-section-number">1.3</span> Data: Targets<span></span></a>
<ul>
<li><a href="theme-aquatic-ecosystems.html#surface-mean-daily-dissolved-oxygen-concentration" id="toc-surface-mean-daily-dissolved-oxygen-concentration"><span class="toc-section-number">1.3.1</span> Surface Mean Daily Dissolved Oxygen Concentration<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#surface-mean-daily-water-temperature" id="toc-surface-mean-daily-water-temperature"><span class="toc-section-number">1.3.2</span> Surface Mean Daily Water Temperature<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#chlorophyll-a" id="toc-chlorophyll-a"><span class="toc-section-number">1.3.3</span> Chlorophyll-a<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#focal-sites" id="toc-focal-sites"><span class="toc-section-number">1.3.4</span> Focal sites<span></span></a></li>
</ul></li>
<li><a href="theme-aquatic-ecosystems.html#timeline" id="toc-timeline"><span class="toc-section-number">1.4</span> Timeline<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#observed-data-latency" id="toc-observed-data-latency"><span class="toc-section-number">1.5</span> Observed data latency<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#submissions" id="toc-submissions"><span class="toc-section-number">1.6</span> Submissions<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#meterological-inputs-for-modeling" id="toc-meterological-inputs-for-modeling"><span class="toc-section-number">1.7</span> Meterological inputs for modeling<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#useful-functions" id="toc-useful-functions"><span class="toc-section-number">1.8</span> Useful functions<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#null-models" id="toc-null-models"><span class="toc-section-number">1.9</span> Null models<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#faq" id="toc-faq"><span class="toc-section-number">1.10</span> FAQ<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#design-team" id="toc-design-team"><span class="toc-section-number">1.11</span> Design Team<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#partners" id="toc-partners"><span class="toc-section-number">1.12</span> Partners<span></span></a></li>
<li><a href="theme-aquatic-ecosystems.html#references" id="toc-references"><span class="toc-section-number">1.13</span> References<span></span></a></li>
</ul></li>
<li><a href="theme-carbon-and-water-fluxes.html#theme-carbon-and-water-fluxes" id="toc-theme-carbon-and-water-fluxes"><span class="toc-section-number">2</span> Theme: Carbon and Water Fluxes<span></span></a>
<ul>
<li><a href="theme-carbon-and-water-fluxes.html#overview-1" id="toc-overview-1"><span class="toc-section-number">2.1</span> Overview<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#challenge-1" id="toc-challenge-1"><span class="toc-section-number">2.2</span> Challenge<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#data-targets-1" id="toc-data-targets-1"><span class="toc-section-number">2.3</span> Data: Targets<span></span></a>
<ul>
<li><a href="theme-carbon-and-water-fluxes.html#net-ecosystem-exchange" id="toc-net-ecosystem-exchange"><span class="toc-section-number">2.3.1</span> Net ecosystem exchange<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#latent-heat-flux" id="toc-latent-heat-flux"><span class="toc-section-number">2.3.2</span> Latent heat flux<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#focal-sites-1" id="toc-focal-sites-1"><span class="toc-section-number">2.3.3</span> Focal sites<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#minute-target-data-calculation" id="toc-minute-target-data-calculation"><span class="toc-section-number">2.3.4</span> 30-minute target data calculation<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#daily-target-data-calculation" id="toc-daily-target-data-calculation"><span class="toc-section-number">2.3.5</span> Daily target data calculation<span></span></a></li>
</ul></li>
<li><a href="theme-carbon-and-water-fluxes.html#timeline-1" id="toc-timeline-1"><span class="toc-section-number">2.4</span> Timeline<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#flux-data-latency" id="toc-flux-data-latency"><span class="toc-section-number">2.5</span> Flux data latency<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#submissions-1" id="toc-submissions-1"><span class="toc-section-number">2.6</span> Submissions<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#meterological-inputs-for-modeling-1" id="toc-meterological-inputs-for-modeling-1"><span class="toc-section-number">2.7</span> Meterological inputs for modeling<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#null-models-1" id="toc-null-models-1"><span class="toc-section-number">2.8</span> Null models<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#faq-1" id="toc-faq-1"><span class="toc-section-number">2.9</span> FAQ<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#design-team-1" id="toc-design-team-1"><span class="toc-section-number">2.10</span> Design team<span></span></a></li>
<li><a href="theme-carbon-and-water-fluxes.html#partners-1" id="toc-partners-1"><span class="toc-section-number">2.11</span> Partners<span></span></a></li>
</ul></li>
<li><a href="theme-tick-populations.html#theme-tick-populations" id="toc-theme-tick-populations"><span class="toc-section-number">3</span> Theme: Tick Populations<span></span></a>
<ul>
<li><a href="theme-tick-populations.html#overview-2" id="toc-overview-2"><span class="toc-section-number">3.1</span> Overview<span></span></a></li>
<li><a href="theme-tick-populations.html#challenge-2" id="toc-challenge-2"><span class="toc-section-number">3.2</span> Challenge<span></span></a></li>
<li><a href="theme-tick-populations.html#data-targets-2" id="toc-data-targets-2"><span class="toc-section-number">3.3</span> Data: Targets<span></span></a>
<ul>
<li><a href="theme-tick-populations.html#amblyomma-americanum-nymphs" id="toc-amblyomma-americanum-nymphs"><span class="toc-section-number">3.3.1</span> Amblyomma americanum nymphs<span></span></a></li>
<li><a href="theme-tick-populations.html#focal-sites-2" id="toc-focal-sites-2"><span class="toc-section-number">3.3.2</span> Focal sites<span></span></a></li>
<li><a href="theme-tick-populations.html#target-data-calculation" id="toc-target-data-calculation"><span class="toc-section-number">3.3.3</span> Target data calculation<span></span></a></li>
<li><a href="theme-tick-populations.html#target-file" id="toc-target-file"><span class="toc-section-number">3.3.4</span> Target file<span></span></a></li>
</ul></li>
<li><a href="theme-tick-populations.html#timeline-2" id="toc-timeline-2"><span class="toc-section-number">3.4</span> Timeline<span></span></a></li>
<li><a href="theme-tick-populations.html#submissions-2" id="toc-submissions-2"><span class="toc-section-number">3.5</span> Submissions<span></span></a></li>
<li><a href="theme-tick-populations.html#meterological-inputs-for-modeling-2" id="toc-meterological-inputs-for-modeling-2"><span class="toc-section-number">3.6</span> Meterological inputs for modeling<span></span></a></li>
<li><a href="theme-tick-populations.html#useful-functions-1" id="toc-useful-functions-1"><span class="toc-section-number">3.7</span> Useful functions<span></span></a></li>
<li><a href="theme-tick-populations.html#null-models-2" id="toc-null-models-2"><span class="toc-section-number">3.8</span> Null models<span></span></a></li>
<li><a href="theme-tick-populations.html#faq-2" id="toc-faq-2"><span class="toc-section-number">3.9</span> FAQ<span></span></a></li>
<li><a href="theme-tick-populations.html#design-team-2" id="toc-design-team-2"><span class="toc-section-number">3.10</span> Design team<span></span></a></li>
<li><a href="theme-tick-populations.html#partners-2" id="toc-partners-2"><span class="toc-section-number">3.11</span> Partners<span></span></a></li>
</ul></li>
<li><a href="theme-phenology.html#theme-phenology" id="toc-theme-phenology"><span class="toc-section-number">4</span> Theme: Phenology<span></span></a>
<ul>
<li><a href="theme-phenology.html#overview-3" id="toc-overview-3"><span class="toc-section-number">4.1</span> Overview<span></span></a></li>
<li><a href="theme-phenology.html#challenge-3" id="toc-challenge-3"><span class="toc-section-number">4.2</span> Challenge<span></span></a></li>
<li><a href="theme-phenology.html#data-targets-3" id="toc-data-targets-3"><span class="toc-section-number">4.3</span> Data: Targets<span></span></a>
<ul>
<li><a href="theme-phenology.html#green-chromatic-coordinate-gcc" id="toc-green-chromatic-coordinate-gcc"><span class="toc-section-number">4.3.1</span> Green chromatic coordinate (gcc)<span></span></a></li>
<li><a href="theme-phenology.html#red-chromatic-coordinate-rcc" id="toc-red-chromatic-coordinate-rcc"><span class="toc-section-number">4.3.2</span> Red chromatic coordinate (rcc)<span></span></a></li>
<li><a href="theme-phenology.html#focal-sites-3" id="toc-focal-sites-3"><span class="toc-section-number">4.3.3</span> Focal sites<span></span></a></li>
<li><a href="theme-phenology.html#target-data-calculation-1" id="toc-target-data-calculation-1"><span class="toc-section-number">4.3.4</span> Target data calculation<span></span></a></li>
<li><a href="theme-phenology.html#target-file-1" id="toc-target-file-1"><span class="toc-section-number">4.3.5</span> Target file<span></span></a></li>
</ul></li>
<li><a href="theme-phenology.html#timeline-3" id="toc-timeline-3"><span class="toc-section-number">4.4</span> Timeline<span></span></a></li>
<li><a href="theme-phenology.html#submissions-3" id="toc-submissions-3"><span class="toc-section-number">4.5</span> Submissions<span></span></a></li>
<li><a href="theme-phenology.html#meterological-inputs-for-modeling-3" id="toc-meterological-inputs-for-modeling-3"><span class="toc-section-number">4.6</span> Meterological inputs for modeling<span></span></a></li>
<li><a href="theme-phenology.html#useful-functions-2" id="toc-useful-functions-2"><span class="toc-section-number">4.7</span> Useful functions<span></span></a></li>
<li><a href="theme-phenology.html#null-models-3" id="toc-null-models-3"><span class="toc-section-number">4.8</span> Null models<span></span></a></li>
<li><a href="theme-phenology.html#faq-3" id="toc-faq-3"><span class="toc-section-number">4.9</span> FAQ<span></span></a></li>
<li><a href="theme-phenology.html#design-team-3" id="toc-design-team-3"><span class="toc-section-number">4.10</span> Design team<span></span></a></li>
<li><a href="theme-phenology.html#partners-3" id="toc-partners-3"><span class="toc-section-number">4.11</span> Partners<span></span></a></li>
<li><a href="theme-phenology.html#references-1" id="toc-references-1"><span class="toc-section-number">4.12</span> References<span></span></a></li>
</ul></li>
<li><a href="theme-beetle-communities.html#theme-beetle-communities" id="toc-theme-beetle-communities"><span class="toc-section-number">5</span> Theme: Beetle Communities<span></span></a>
<ul>
<li><a href="theme-beetle-communities.html#overview-4" id="toc-overview-4"><span class="toc-section-number">5.1</span> Overview<span></span></a></li>
<li><a href="theme-beetle-communities.html#challenge-4" id="toc-challenge-4"><span class="toc-section-number">5.2</span> Challenge<span></span></a></li>
<li><a href="theme-beetle-communities.html#data-targets-4" id="toc-data-targets-4"><span class="toc-section-number">5.3</span> Data: Targets<span></span></a>
<ul>
<li><a href="theme-beetle-communities.html#abundance-of-beetles-abundance" id="toc-abundance-of-beetles-abundance"><span class="toc-section-number">5.3.1</span> Abundance of beetles (abundance)<span></span></a></li>
<li><a href="theme-beetle-communities.html#species-richness-n" id="toc-species-richness-n"><span class="toc-section-number">5.3.2</span> Species richness (n)<span></span></a></li>
<li><a href="theme-beetle-communities.html#focal-sites-4" id="toc-focal-sites-4"><span class="toc-section-number">5.3.3</span> Focal sites<span></span></a></li>
<li><a href="theme-beetle-communities.html#target-data-calculation-2" id="toc-target-data-calculation-2"><span class="toc-section-number">5.3.4</span> Target data calculation<span></span></a></li>
<li><a href="theme-beetle-communities.html#target-file-2" id="toc-target-file-2"><span class="toc-section-number">5.3.5</span> Target file<span></span></a></li>
</ul></li>
<li><a href="theme-beetle-communities.html#timeline-4" id="toc-timeline-4"><span class="toc-section-number">5.4</span> Timeline<span></span></a></li>
<li><a href="theme-beetle-communities.html#design-team-4" id="toc-design-team-4"><span class="toc-section-number">5.5</span> Design team<span></span></a></li>
<li><a href="theme-beetle-communities.html#partners-4" id="toc-partners-4"><span class="toc-section-number">5.6</span> Partners<span></span></a></li>
<li><a href="theme-beetle-communities.html#references-2" id="toc-references-2"><span class="toc-section-number">5.7</span> References<span></span></a></li>
</ul></li>
<li><a href="participation.html#participation" id="toc-participation"><span class="toc-section-number">6</span> Participation<span></span></a>
<ul>
<li><a href="participation.html#participation-guidance" id="toc-participation-guidance"><span class="toc-section-number">6.1</span> Participation guidance<span></span></a>
<ul>
<li><a href="participation.html#how-to-participate" id="toc-how-to-participate"><span class="toc-section-number">6.1.1</span> How to participate<span></span></a></li>
<li><a href="participation.html#teams" id="toc-teams"><span class="toc-section-number">6.1.2</span> Teams<span></span></a></li>
<li><a href="participation.html#slack-and-github-communication" id="toc-slack-and-github-communication"><span class="toc-section-number">6.1.3</span> Slack and GitHub Communication<span></span></a></li>
<li><a href="participation.html#archiving-models" id="toc-archiving-models"><span class="toc-section-number">6.1.4</span> Archiving models<span></span></a></li>
<li><a href="participation.html#computational-resources" id="toc-computational-resources"><span class="toc-section-number">6.1.5</span> Computational resources<span></span></a></li>
</ul></li>
<li><a href="participation.html#participation-agreement" id="toc-participation-agreement"><span class="toc-section-number">6.2</span> Participation agreement<span></span></a></li>
<li><a href="participation.html#neon-data-use" id="toc-neon-data-use"><span class="toc-section-number">6.3</span> NEON Data Use<span></span></a></li>
<li><a href="participation.html#additional-data-options" id="toc-additional-data-options"><span class="toc-section-number">6.4</span> Additional data options<span></span></a></li>
</ul></li>
<li><a href="submission-instructions.html#submission-instructions" id="toc-submission-instructions"><span class="toc-section-number">7</span> Submission Instructions<span></span></a>
<ul>
<li><a href="submission-instructions.html#forecast-format" id="toc-forecast-format"><span class="toc-section-number">7.1</span> Forecast format<span></span></a>
<ul>
<li><a href="submission-instructions.html#examples-of-the-forecast-file-format." id="toc-examples-of-the-forecast-file-format."><span class="toc-section-number">7.1.1</span> Examples of the forecast file format.<span></span></a></li>
<li><a href="submission-instructions.html#ensemble-csv" id="toc-ensemble-csv"><span class="toc-section-number">7.1.2</span> Ensemble CSV<span></span></a></li>
<li><a href="submission-instructions.html#ensemble-csv-1" id="toc-ensemble-csv-1"><span class="toc-section-number">7.1.3</span> Ensemble CSV<span></span></a></li>
<li><a href="submission-instructions.html#netcdf" id="toc-netcdf"><span class="toc-section-number">7.1.4</span> Netcdf<span></span></a></li>
</ul></li>
<li><a href="submission-instructions.html#metadata-format" id="toc-metadata-format"><span class="toc-section-number">7.2</span> Metadata format<span></span></a></li>
<li><a href="submission-instructions.html#submission-process" id="toc-submission-process"><span class="toc-section-number">7.3</span> Submission process<span></span></a></li>
<li><a href="submission-instructions.html#validating-submission" id="toc-validating-submission"><span class="toc-section-number">7.4</span> Validating submission<span></span></a></li>
<li><a href="submission-instructions.html#visualizing-submissions" id="toc-visualizing-submissions"><span class="toc-section-number">7.5</span> Visualizing submissions<span></span></a></li>
<li><a href="submission-instructions.html#video-describing-how-to-submit-to-the-challenge" id="toc-video-describing-how-to-submit-to-the-challenge"><span class="toc-section-number">7.6</span> Video Describing How to Submit to the Challenge<span></span></a></li>
</ul></li>
<li><a href="submission-metadata-generation.html#submission-metadata-generation" id="toc-submission-metadata-generation"><span class="toc-section-number">8</span> Submission Metadata Generation<span></span></a>
<ul>
<li><a href="submission-metadata-generation.html#team-information" id="toc-team-information"><span class="toc-section-number">8.1</span> Team information<span></span></a></li>
<li><a href="submission-metadata-generation.html#model-description" id="toc-model-description"><span class="toc-section-number">8.2</span> Model Description<span></span></a>
<ul>
<li><a href="submission-metadata-generation.html#initial-conditions" id="toc-initial-conditions"><span class="toc-section-number">8.2.1</span> Initial conditions<span></span></a></li>
<li><a href="submission-metadata-generation.html#drivers" id="toc-drivers"><span class="toc-section-number">8.2.2</span> Drivers<span></span></a></li>
<li><a href="submission-metadata-generation.html#parameters" id="toc-parameters"><span class="toc-section-number">8.2.3</span> Parameters<span></span></a></li>
<li><a href="submission-metadata-generation.html#random-effects" id="toc-random-effects"><span class="toc-section-number">8.2.4</span> Random effects<span></span></a></li>
<li><a href="submission-metadata-generation.html#process-error" id="toc-process-error"><span class="toc-section-number">8.2.5</span> Process error<span></span></a></li>
<li><a href="submission-metadata-generation.html#observation-error" id="toc-observation-error"><span class="toc-section-number">8.2.6</span> Observation error<span></span></a></li>
<li><a href="submission-metadata-generation.html#progation" id="toc-progation"><span class="toc-section-number">8.2.7</span> Progation<span></span></a></li>
<li><a href="submission-metadata-generation.html#assimilation" id="toc-assimilation"><span class="toc-section-number">8.2.8</span> assimilation<span></span></a></li>
</ul></li>
<li><a href="submission-metadata-generation.html#example-r-list" id="toc-example-r-list"><span class="toc-section-number">8.3</span> Example R “list”<span></span></a></li>
<li><a href="submission-metadata-generation.html#example" id="toc-example"><span class="toc-section-number">8.4</span> Example<span></span></a></li>
</ul></li>
<li><a href="evaluation.html#evaluation" id="toc-evaluation"><span class="toc-section-number">9</span> Evaluation<span></span></a>
<ul>
<li><a href="evaluation.html#results" id="toc-results"><span class="toc-section-number">9.1</span> Results<span></span></a></li>
<li><a href="evaluation.html#scoring-metric-continuous-ranked-probability-score" id="toc-scoring-metric-continuous-ranked-probability-score"><span class="toc-section-number">9.2</span> Scoring Metric: Continuous Ranked Probability Score<span></span></a>
<ul>
<li><a href="evaluation.html#example-of-a-crps-calculation-from-an-ensemble-forecast" id="toc-example-of-a-crps-calculation-from-an-ensemble-forecast"><span class="toc-section-number">9.2.1</span> Example of a CRPS calculation from an ensemble forecast<span></span></a></li>
<li><a href="evaluation.html#exploring-the-scoring-surface" id="toc-exploring-the-scoring-surface"><span class="toc-section-number">9.2.2</span> Exploring the scoring surface<span></span></a></li>
<li><a href="evaluation.html#crps-from-the-normal-distribution" id="toc-crps-from-the-normal-distribution"><span class="toc-section-number">9.2.3</span> CRPS from the Normal Distribution<span></span></a></li>
</ul></li>
<li><a href="evaluation.html#null-forecast" id="toc-null-forecast"><span class="toc-section-number">9.3</span> Null forecast<span></span></a></li>
<li><a href="evaluation.html#forecast-submission-visualization-and-leaderboard" id="toc-forecast-submission-visualization-and-leaderboard"><span class="toc-section-number">9.4</span> Forecast Submission Visualization and Leaderboard<span></span></a></li>
<li><a href="evaluation.html#references-3" id="toc-references-3"><span class="toc-section-number">9.5</span> References<span></span></a></li>
</ul></li>
<li><a href="met_inputs.html#met_inputs" id="toc-met_inputs"><span class="toc-section-number">10</span> Meteorology Inputs<span></span></a>
<ul>
<li><a href="met_inputs.html#noaa-global-ensemble-forecasting-system" id="toc-noaa-global-ensemble-forecasting-system"><span class="toc-section-number">10.1</span> NOAA Global Ensemble Forecasting System<span></span></a>
<ul>
<li><a href="met_inputs.html#stage-1" id="toc-stage-1"><span class="toc-section-number">10.1.1</span> Stage 1<span></span></a></li>
<li><a href="met_inputs.html#stage-2" id="toc-stage-2"><span class="toc-section-number">10.1.2</span> Stage 2<span></span></a></li>
<li><a href="met_inputs.html#stage-3" id="toc-stage-3"><span class="toc-section-number">10.1.3</span> Stage 3<span></span></a></li>
</ul></li>
<li><a href="met_inputs.html#neon-observed" id="toc-neon-observed"><span class="toc-section-number">10.2</span> NEON Observed<span></span></a></li>
<li><a href="met_inputs.html#downloading-and-processing-of-noaa-gefs" id="toc-downloading-and-processing-of-noaa-gefs"><span class="toc-section-number">10.3</span> Downloading and processing of NOAA GEFS<span></span></a></li>
</ul></li>
<li><a href="helpful-functions.html#helpful-functions" id="toc-helpful-functions"><span class="toc-section-number">11</span> Helpful Functions<span></span></a>
<ul>
<li><a href="helpful-functions.html#neon4cast-package" id="toc-neon4cast-package"><span class="toc-section-number">11.1</span> neon4cast package<span></span></a>
<ul>
<li><a href="helpful-functions.html#installation" id="toc-installation"><span class="toc-section-number">11.1.1</span> Installation<span></span></a></li>
<li><a href="helpful-functions.html#example-forecast" id="toc-example-forecast"><span class="toc-section-number">11.1.2</span> Example forecast<span></span></a></li>
<li><a href="helpful-functions.html#score-forecast-locally" id="toc-score-forecast-locally"><span class="toc-section-number">11.1.3</span> Score forecast locally<span></span></a></li>
<li><a href="helpful-functions.html#validate-a-forecast-file" id="toc-validate-a-forecast-file"><span class="toc-section-number">11.1.4</span> Validate a forecast file<span></span></a></li>
<li><a href="helpful-functions.html#generate-forecast-metadata-in-eml" id="toc-generate-forecast-metadata-in-eml"><span class="toc-section-number">11.1.5</span> Generate forecast metadata in EML<span></span></a></li>
<li><a href="helpful-functions.html#access-efi-snapshots-of-noaa-forecasts-at-neon-sites" id="toc-access-efi-snapshots-of-noaa-forecasts-at-neon-sites"><span class="toc-section-number">11.1.6</span> Access EFI snapshots of NOAA forecasts at NEON sites<span></span></a></li>
<li><a href="helpful-functions.html#neon4cast-submit" id="toc-neon4cast-submit"><span class="toc-section-number">11.1.7</span> Submit a forecast<span></span></a></li>
</ul></li>
<li><a href="helpful-functions.html#neonstore-package" id="toc-neonstore-package"><span class="toc-section-number">11.2</span> neonstore package<span></span></a>
<ul>
<li><a href="helpful-functions.html#installation-1" id="toc-installation-1"><span class="toc-section-number">11.2.1</span> Installation<span></span></a></li>
<li><a href="helpful-functions.html#quickstart" id="toc-quickstart"><span class="toc-section-number">11.2.2</span> Quickstart<span></span></a></li>
<li><a href="helpful-functions.html#database-backend" id="toc-database-backend"><span class="toc-section-number">11.2.3</span> Database backend<span></span></a></li>
<li><a href="helpful-functions.html#note-on-api-limits" id="toc-note-on-api-limits"><span class="toc-section-number">11.2.4</span> Note on API limits<span></span></a></li>
<li><a href="helpful-functions.html#non-stacking-files-and-low-level-interface" id="toc-non-stacking-files-and-low-level-interface"><span class="toc-section-number">11.2.5</span> Non-stacking files and low-level interface<span></span></a></li>
</ul></li>
<li><a href="helpful-functions.html#efistandards-package" id="toc-efistandards-package"><span class="toc-section-number">11.3</span> EFIstandards package<span></span></a>
<ul>
<li><a href="helpful-functions.html#output-files" id="toc-output-files"><span class="toc-section-number">11.3.1</span> Output Files:<span></span></a></li>
<li><a href="helpful-functions.html#output-metadata" id="toc-output-metadata"><span class="toc-section-number">11.3.2</span> Output Metadata:<span></span></a></li>
<li><a href="helpful-functions.html#archiving" id="toc-archiving"><span class="toc-section-number">11.3.3</span> Archiving:<span></span></a></li>
<li><a href="helpful-functions.html#vignettes" id="toc-vignettes"><span class="toc-section-number">11.3.4</span> Vignettes:<span></span></a></li>
<li><a href="helpful-functions.html#documentation" id="toc-documentation"><span class="toc-section-number">11.3.5</span> Documentation:<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="using-the-challenge-in-classes.html#using-the-challenge-in-classes" id="toc-using-the-challenge-in-classes"><span class="toc-section-number">12</span> Using the Challenge in Classes<span></span></a></li>
<li><a href="frequently-asked-questions.html#frequently-asked-questions" id="toc-frequently-asked-questions"><span class="toc-section-number">13</span> Frequently Asked Questions<span></span></a>
<ul>
<li><a href="frequently-asked-questions.html#my-model-uses-meterology-inputs.-where-can-i-find-forecasts-of-weather-to-use-in-my-ecological-forecast" id="toc-my-model-uses-meterology-inputs.-where-can-i-find-forecasts-of-weather-to-use-in-my-ecological-forecast"><span class="toc-section-number">13.1</span> My model uses meterology inputs. Where can I find forecasts of weather to use in my ecological forecast?<span></span></a></li>
<li><a href="frequently-asked-questions.html#i-need-historical-weather-data-to-build-my-model.-where-can-i-find-it" id="toc-i-need-historical-weather-data-to-build-my-model.-where-can-i-find-it"><span class="toc-section-number">13.2</span> I need historical weather data to build my model. Where can I find it?<span></span></a></li>
<li><a href="frequently-asked-questions.html#i-submitted-my-forecast-but-cannot-find-it-on-the-dashboard-or-in-the-directory-of-forecasts" id="toc-i-submitted-my-forecast-but-cannot-find-it-on-the-dashboard-or-in-the-directory-of-forecasts"><span class="toc-section-number">13.3</span> I submitted my forecast but cannot find it on the dashboard or in the directory of forecasts<span></span></a></li>
<li><a href="frequently-asked-questions.html#do-i-need-to-submit-forecasts-to-every-submission-date" id="toc-do-i-need-to-submit-forecasts-to-every-submission-date"><span class="toc-section-number">13.4</span> Do I need to submit forecasts to every submission date?<span></span></a></li>
<li><a href="frequently-asked-questions.html#where-can-i-find-examples-of-forecasts-that-match-the-required-standard" id="toc-where-can-i-find-examples-of-forecasts-that-match-the-required-standard"><span class="toc-section-number">13.5</span> Where can I find examples of forecasts that match the required standard?<span></span></a></li>
<li><a href="frequently-asked-questions.html#is-it-possible-to-automate-my-forecast-submissions" id="toc-is-it-possible-to-automate-my-forecast-submissions"><span class="toc-section-number">13.6</span> Is it possible to automate my forecast submissions?<span></span></a></li>
<li><a href="frequently-asked-questions.html#i-am-having-trouble-generating-the-metadata.-can-you-point-me-to-more-information-tutorials-or-examples" id="toc-i-am-having-trouble-generating-the-metadata.-can-you-point-me-to-more-information-tutorials-or-examples"><span class="toc-section-number">13.7</span> I am having trouble generating the metadata. Can you point me to more information, tutorials, or examples?<span></span></a></li>
<li><a href="frequently-asked-questions.html#how-many-years-are-you-planning-to-run-the-challenge" id="toc-how-many-years-are-you-planning-to-run-the-challenge"><span class="toc-section-number">13.8</span> How many years are you planning to run the Challenge?<span></span></a></li>
<li><a href="frequently-asked-questions.html#are-there-certain-types-of-models-that-i-need-to-use" id="toc-are-there-certain-types-of-models-that-i-need-to-use"><span class="toc-section-number">13.9</span> Are there certain types of models that I need to use?<span></span></a></li>
<li><a href="frequently-asked-questions.html#what-is-the-relationship-between-the-challenge-and-neon" id="toc-what-is-the-relationship-between-the-challenge-and-neon"><span class="toc-section-number">13.10</span> What is the relationship between the Challenge and NEON?<span></span></a></li>
<li><a href="frequently-asked-questions.html#i-am-interested-in-submitting-different-models-or-to-multiple-themes.-how-should-i-register-to-do-this" id="toc-i-am-interested-in-submitting-different-models-or-to-multiple-themes.-how-should-i-register-to-do-this"><span class="toc-section-number">13.11</span> I am interested in submitting different models or to multiple themes. How should I register to do this?<span></span></a></li>
<li><a href="frequently-asked-questions.html#where-can-i-find-resources-that-provide-how-to-participate-in-the-challenge" id="toc-where-can-i-find-resources-that-provide-how-to-participate-in-the-challenge"><span class="toc-section-number">13.12</span> Where can I find resources that provide how to participate in the Challenge?<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NEON Ecological Forecasting Challenge</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="evaluation" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Evaluation<a href="evaluation.html#evaluation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Forecasts will be evaluated at each site and forecast horizon (i.e., time-step into the future), and a summary score will be assigned evaluating overall performance of all forecast submissions across sites. Forecasts will also be compared to a null model.</p>
<p>Forecast evaluation results will be presented for all submitted models together and separately for each team category: undergraduate student only team, graduate student only team, post-doc only team, single institution team, multi-institution team, international team (team with individuals from at least two countries).</p>
<div id="results" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Results<a href="evaluation.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Preliminary results will be distributed using the NEON Ecological Forecast Challenge <a href="http://shiny.ecoforecast.org/" target="_blank">dashboard</a> and at <a href="https://data.ecoforecast.org/minio/scores/" class="uri">https://data.ecoforecast.org/minio/scores/</a>. We intend to write a joint manuscript synthesizing forecasts, authorship will be extended to members of each team with an opt-in policy. Teams are welcome to publish results from their model at any time. If a publication is generated we encourage the manuscript to acknowledge the Ecological Forecasting Research Coordination Network and its support from the National Science Foundation (DEB-1926388).</p>
</div>
<div id="scoring-metric-continuous-ranked-probability-score" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Scoring Metric: Continuous Ranked Probability Score<a href="evaluation.html#scoring-metric-continuous-ranked-probability-score" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Forecasts will be scored using the continuous ranked probability score (CRPS), a proper scoring rule for evaluating forecasts presented as distributions or ensembles (Gneiting &amp; Raftery 2007). The CRPS compares the forecast probability distribution to that of the validation observation and assigns a score based on both the accuracy and precision of the forecast. We will use the ‘crps_sample’ function from the <code>scoringRules</code> package in R to calculate the CRPS for each forecast.</p>
<p>We will generate a combined score for all locations and forecast horizons. Forecasts will also be evaluated using the CRPS at each time-step in the forecast horizon and each location included in the forecasts.</p>
<p>Importantly, we use the convention for CRPS where zero is lowest and best possible score, therefore teams want to achieve the lowest score. CPRS can be also expressed as a negative number with zero as highest and best possible score (Gneiting &amp; Raftery 2007). The <code>scoringRules</code> package that we use follows the 0 or greater convention.</p>
<div id="example-of-a-crps-calculation-from-an-ensemble-forecast" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Example of a CRPS calculation from an ensemble forecast<a href="evaluation.html#example-of-a-crps-calculation-from-an-ensemble-forecast" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The following uses Equation 2 in Jordan, Kruger, and Lerch 2018</p>
<div class="figure">
<img src="images/equation_2.png" alt="" />
<p class="caption">Equation 1 from Jordan, Kruger, and Lerch 2018.</p>
</div>
<p>First, create a random sample from a probability distribution. This is the “forecast” for a particular point in time. For simplicity, we will use a normal distribution with a mean of 8 and standard deviation of 1</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="evaluation.html#cb27-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">8</span>, <span class="at">sd =</span> <span class="fl">1.0</span>)</span></code></pre></div>
<p>Second, we have our data point (i.e., the target). We will set it to zero as well</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="evaluation.html#cb28-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">8</span></span></code></pre></div>
<p>Now calculate CRPS using Equation 2</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="evaluation.html#cb29-1" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb29-2"><a href="evaluation.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb29-3"><a href="evaluation.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb29-4"><a href="evaluation.html#cb29-4" aria-hidden="true" tabindex="-1"></a>    s <span class="ot">&lt;-</span> s <span class="sc">+</span> <span class="fu">abs</span>(x[i] <span class="sc">-</span> x[j])</span>
<span id="cb29-5"><a href="evaluation.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-6"><a href="evaluation.html#cb29-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb29-7"><a href="evaluation.html#cb29-7" aria-hidden="true" tabindex="-1"></a>crps_equation_2 <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(x <span class="sc">-</span> y)) <span class="sc">-</span> s <span class="sc">/</span> (<span class="dv">2</span> <span class="sc">*</span> <span class="fu">length</span>(x)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb29-8"><a href="evaluation.html#cb29-8" aria-hidden="true" tabindex="-1"></a>crps_equation_2</span></code></pre></div>
<pre><code>## [1] 0.2350911</code></pre>
<p>Now calculate using the <code>crps_sample()</code> function in the <code>scoringRules</code> package</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="evaluation.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">crps_sample</span>(<span class="at">y =</span> y, <span class="at">dat =</span> x)</span></code></pre></div>
<pre><code>## [1] 0.2350911</code></pre>
</div>
<div id="exploring-the-scoring-surface" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Exploring the scoring surface<a href="evaluation.html#exploring-the-scoring-surface" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now lets see how the CRPS changes as the mean and standard deviation of the forecasted distribution change</p>
<p>First, set vectors for the different mean and SD values we want to explore</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="evaluation.html#cb33-1" aria-hidden="true" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="fl">0.1</span>)</span>
<span id="cb33-2"><a href="evaluation.html#cb33-2" aria-hidden="true" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</span></code></pre></div>
<p>Second, set our observed value to 8 for simplicity</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="evaluation.html#cb34-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">8</span></span></code></pre></div>
<p>Now calculate the CRPS at each combination of forest mean and SD</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="evaluation.html#cb35-1" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="fu">length</span>(sample_mean), <span class="fu">length</span>(sample_sd)))</span>
<span id="cb35-2"><a href="evaluation.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)){</span>
<span id="cb35-3"><a href="evaluation.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_sd)){</span>
<span id="cb35-4"><a href="evaluation.html#cb35-4" aria-hidden="true" tabindex="-1"></a>    sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, sample_mean[i], sample_sd[j])</span>
<span id="cb35-5"><a href="evaluation.html#cb35-5" aria-hidden="true" tabindex="-1"></a>    combined[i, j] <span class="ot">&lt;-</span> <span class="fu">crps_sample</span>(<span class="at">y =</span> y, <span class="at">dat =</span> sample)</span>
<span id="cb35-6"><a href="evaluation.html#cb35-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb35-7"><a href="evaluation.html#cb35-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, visualize the scoring surface with the observed value represented by the red line</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="evaluation.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined),<span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb36-2"><a href="evaluation.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The contour surface highlights the trade-off between the mean and standard deviation.</p>
</div>
<div id="crps-from-the-normal-distribution" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> CRPS from the Normal Distribution<a href="evaluation.html#crps-from-the-normal-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If the distributional forecast is a normal distribution represented by a mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\sigma\)</span>, an ensemble of predictions is not needed to evaluate CRPS because we can take advantage of the analytic solution to CRPS under the normal assumption (Equation 4 from Gneiting et al. 2005)</p>
<p>Equation 5 from Gneiting et al. (2005) gives</p>
<p><span class="math display">\[\begin{align*}
CRPS(N(\mu, \sigma^2) | y) = \sigma \left( \frac{y - \mu}{\sigma} \left( 2 \Phi\left(  \frac{y - \mu}{\sigma} \right) - 1 \right)  + 2 \phi \left(  \frac{y - \mu}{\sigma} \right) - \frac{1}{\sqrt{\pi}} \right)
\end{align*}\]</span></p>
<p>for <span class="math inline">\(\Phi(\cdot)\)</span> and <span class="math inline">\(\phi(\cdot)\)</span> the standard normal CDF and PDF, respectively. Therefore, if the forecast distribution is <strong>truly</strong> a normal distribution (often this isn’t true in forecasts that only report a mean and sd) a simplified score can be applied as follows:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="evaluation.html#cb37-1" aria-hidden="true" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="fl">0.1</span>)</span>
<span id="cb37-2"><a href="evaluation.html#cb37-2" aria-hidden="true" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</span>
<span id="cb37-3"><a href="evaluation.html#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="evaluation.html#cb37-4" aria-hidden="true" tabindex="-1"></a>combined_norm <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="fu">length</span>(sample_mean), <span class="fu">length</span>(sample_sd)))</span>
<span id="cb37-5"><a href="evaluation.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)){</span>
<span id="cb37-6"><a href="evaluation.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_sd)){</span>
<span id="cb37-7"><a href="evaluation.html#cb37-7" aria-hidden="true" tabindex="-1"></a>    combined_norm[i, j] <span class="ot">&lt;-</span> <span class="fu">crps_norm</span>(<span class="at">y =</span> y, <span class="at">mean =</span> sample_mean[i], <span class="at">sd =</span> sample_sd[j])</span>
<span id="cb37-8"><a href="evaluation.html#cb37-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb37-9"><a href="evaluation.html#cb37-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, visualize the scoring surface with the observed value represented by
the red line.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="evaluation.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb38-2"><a href="evaluation.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Note that at a given value of the sd, the lowest score is achieved at <span class="math inline">\(\mu = y\)</span> as shown for each of the blue lines where the minimum value of the score across each blue line is at the red line. This behavior makes sense because the CRPS is a score that rewards accuracy and precision. Thus, for any given level of precision (represented by the standard deviation), CRPS is optimized by producing the most accurate prediction of the distribution’s location.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="evaluation.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb39-2"><a href="evaluation.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb39-3"><a href="evaluation.html#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">2.5</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb39-4"><a href="evaluation.html#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">4.3</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb39-5"><a href="evaluation.html#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">6.8</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Interestingly, for a given mean <span class="math inline">\(\mu \neq y\)</span> we find a pattern that makes intuitive sense given the goal of CRPS to produce forecasts that are both accurate and precise. For a given amount of bias in the prediction (i.e., given a <span class="math inline">\(\mu \neq y\)</span>), the optimal score is achieved by a standard deviation that slightly larger than the bias.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="evaluation.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb40-2"><a href="evaluation.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="do">## plots for mu = 7</span></span>
<span id="cb40-3"><a href="evaluation.html#cb40-3" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb40-4"><a href="evaluation.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS contour given mu = &quot;</span>, mu))</span>
<span id="cb40-5"><a href="evaluation.html#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> mu, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb40-6"><a href="evaluation.html#cb40-6" aria-hidden="true" tabindex="-1"></a>min_sd <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd))]</span>
<span id="cb40-7"><a href="evaluation.html#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb40-8"><a href="evaluation.html#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_sd, <span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd), <span class="at">type =</span> <span class="st">&#39;l&#39;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS profile given mu = &quot;</span>, mu))</span>
<span id="cb40-9"><a href="evaluation.html#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb40-10"><a href="evaluation.html#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="do">## plots for mu = 11</span></span>
<span id="cb40-11"><a href="evaluation.html#cb40-11" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">11</span></span>
<span id="cb40-12"><a href="evaluation.html#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS contour given mu = &quot;</span>, mu))</span>
<span id="cb40-13"><a href="evaluation.html#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> mu, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb40-14"><a href="evaluation.html#cb40-14" aria-hidden="true" tabindex="-1"></a>min_sd <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd))]</span>
<span id="cb40-15"><a href="evaluation.html#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb40-16"><a href="evaluation.html#cb40-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_sd, <span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd), <span class="at">type =</span> <span class="st">&#39;l&#39;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS profile given mu = &quot;</span>, mu))</span>
<span id="cb40-17"><a href="evaluation.html#cb40-17" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Next, we plot the relationship between a given value of <span class="math inline">\(\mu\)</span> and the <span class="math inline">\(\sigma\)</span> that produces the optimal CRPS. This looks like a linear relationship.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="evaluation.html#cb41-1" aria-hidden="true" tabindex="-1"></a>optimal_sd <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">length</span>(sample_mean))</span>
<span id="cb41-2"><a href="evaluation.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)) {</span>
<span id="cb41-3"><a href="evaluation.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  optimal_sd[i] <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> sample_mean[i], <span class="at">sd =</span> sample_sd))]</span>
<span id="cb41-4"><a href="evaluation.html#cb41-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-5"><a href="evaluation.html#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_mean, optimal_sd, <span class="at">type =</span> <span class="st">&#39;l&#39;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Let’s estimate the slope of the relationship. It looks like the optimal <span class="math inline">\(sd\)</span> for a normal distribution forecast that is biased by <span class="math inline">\(|y - \mu|\)</span> is <span class="math inline">\(sd = 1.2|y - \mu|\)</span> which makes sense as this would put the true value in a region of high probability.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="evaluation.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(<span class="fu">lm</span>(optimal_sd[sample_mean <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="sc">~</span> sample_mean[sample_mean <span class="sc">&gt;</span> <span class="dv">0</span>]))</span></code></pre></div>
<pre><code>##                  (Intercept) sample_mean[sample_mean &gt; 0] 
##                 2.430864e+00                -1.688326e-16</code></pre>
</div>
</div>
<div id="null-forecast" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Null forecast<a href="evaluation.html#null-forecast" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>All forecasts will be compared to a null forecast produced by a simple historical-means calculation or a random walk. The GitHub repository for each theme has the code for the null model.</p>
<p>Ticks: <a href="https://github.com/eco4cast/neon4cast-ticks/blob/master/03_nullFitAndForecast.R" class="uri">https://github.com/eco4cast/neon4cast-ticks/blob/master/03_nullFitAndForecast.R</a></p>
<p>Terrestrial (Daily): <a href="https://github.com/eco4cast/neon4cast-terrestrial/blob/master/03_terrestrial_flux_daily_null.R" class="uri">https://github.com/eco4cast/neon4cast-terrestrial/blob/master/03_terrestrial_flux_daily_null.R</a></p>
<p>Terrestrial (30 minute): <a href="https://github.com/eco4cast/neon4cast-terrestrial/blob/master/04_terrestrial_flux_30min_clim.R" class="uri">https://github.com/eco4cast/neon4cast-terrestrial/blob/master/04_terrestrial_flux_30min_clim.R</a></p>
<p>Beetles: <a href="https://github.com/eco4cast/neon4cast-beetles/blob/master/03_forecast.R" class="uri">https://github.com/eco4cast/neon4cast-beetles/blob/master/03_forecast.R</a></p>
<p>Aquatics: <a href="https://github.com/eco4cast/neon4cast-aquatics/blob/master/03_generate_null_forecast_aquatics.R" class="uri">https://github.com/eco4cast/neon4cast-aquatics/blob/master/03_generate_null_forecast_aquatics.R</a></p>
<p>Phenology: <a href="https://github.com/eco4cast/neon4cast-phenology/blob/master/nullModel_randomWalk_main.R" class="uri">https://github.com/eco4cast/neon4cast-phenology/blob/master/nullModel_randomWalk_main.R</a></p>
</div>
<div id="forecast-submission-visualization-and-leaderboard" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Forecast Submission Visualization and Leaderboard<a href="evaluation.html#forecast-submission-visualization-and-leaderboard" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <a href="https://shiny.ecoforecast.org" target="_blank">dashboard</a> shows the forecast submissions by each team for each forecast theme by date and forecast variable. It also provides the <a href="https://shiny.ecoforecast.org/#section-scores" target="_blank">CRPS scores</a> for each submitted forecast.</p>
</div>
<div id="references-3" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> References<a href="evaluation.html#references-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Gneiting, T., A.E. Raftery. 2007. Strictly proper scoring rules, prediction, and estimation. Journal of the American Statistical Association, 102(477): 359–378. <a href="https://doi.org/10.1198/016214506000001437" class="uri">https://doi.org/10.1198/016214506000001437</a></p>
<p>Jordan, A., F. Kruger, and S. Lerch 2018. Evaluating probabilistic forecasts with scoringRules. <a href="https://cran.r-project.org/web/packages/scoringRules/vignettes/article.pdf" class="uri">https://cran.r-project.org/web/packages/scoringRules/vignettes/article.pdf</a></p>
<p>Gneiting, T., A.E. Raftery, A.H. Westveld III, T. Goldman. 2005. Calibrated probabilistic forecasting using ensemble model output statistics and minimum CRPS estimation. Monthly Weather Review, 133(5): 1098-1118. <a href="https://doi.org/10.1175/MWR2904.1" class="uri">https://doi.org/10.1175/MWR2904.1</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="submission-metadata-generation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="met_inputs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
